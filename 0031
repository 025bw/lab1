#include <string.h>
#include <stdio.h>
#include <math.h>

F1(int* num){
	int temp=0;
	printf("Convert Decimal to Binary program\n");
	printf("        Enter a positive number: ");
	while(*num==-1){
		int input=getch();
		if(input>47&&input<58){
		printf("%d",input-48);
		temp=temp*10+input-48;
		}
		else if(input==13&&temp!=0){
		*num=temp;break;
		}
		else if(input==8&&temp!=0){
		printf("\b \b");
		temp=temp/10;
		}
	}
}

F2(int num,int* bin){
	if(num==0)*bin=0;
	int x[1000];
	int pos=0;
	int mod;
	while(num!=0)
	{
		mod = num%2;
		if(mod==0)	{	x[pos]=0;	}
		if(mod==1)	{	x[pos]=1;	}
		pos++;
		num=num/2;
	}
	for(pos=pos-1;pos>=0;pos--)
{
	*bin=*bin*10+x[pos];
}	
}

F3(int bin){
	printf("\n        Binary number: %d\n",bin);
	printf("Press any key to do another conversation.\n\n");
	getch();
	main();
}

int main(){
	int x=-1;
	int bin=0;
	F1(&x);
	F2(x,&bin);
	F3(bin);
	
}
